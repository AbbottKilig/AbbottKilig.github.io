<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Tomcat安装与配置 | AbbottKilig&#39;s blog</title>
  <meta name="keywords" content=" Web , Tomcat , Java ">
  <meta name="description" content="Tomcat安装与配置 | AbbottKilig&#39;s blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="AbbottKilig&apos;s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="http://AbbottKilig.github.io/about/index.html">
<meta property="og:site_name" content="AbbottKilig&#39;s blog">
<meta property="og:description" content="AbbottKilig&apos;s blog">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-23T00:26:00.125Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="about">
<meta name="twitter:description" content="AbbottKilig&apos;s blog">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.0.1"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>AbbottKilig</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/abbottkilig" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:abbottkilig@163.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=872336115&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(6)</small></div></li>
    
        
            
            <li><div data-rel="JavaEE">JavaEE<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="JavaEES">JavaEES<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="6">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">Web</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">java</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">Filter</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color2">Tomcat</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color5">Java</a>
    </li>
    
    <li class="article-tag-list-item">
        <a href="javascript:" class="color4">JSP</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a  class=""
           href="/JavaEE/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2019-09-23 08:26:00">2019/09/23</span>
        </a>
        
        <a  class="JavaEE "
           href="/JavaEE/手动构建Web应用/"
           data-tag="Web"
           data-author="" >
            <span class="post-title" title="手动构建Web应用">手动构建Web应用</span>
            <span class="post-date" title="2019-09-21 19:57:50">2019/09/21</span>
        </a>
        
        <a  class="JavaEES "
           href="/JavaEES/Filter简介/"
           data-tag="Web,java,Filter"
           data-author="" >
            <span class="post-title" title="Filter简介">Filter简介</span>
            <span class="post-date" title="2019-09-25 15:40:33">2019/09/25</span>
        </a>
        
        <a  class="JavaEE "
           href="/JavaEE/Tomcat安装与配置/"
           data-tag="Web,Tomcat,Java"
           data-author="" >
            <span class="post-title" title="Tomcat安装与配置">Tomcat安装与配置</span>
            <span class="post-date" title="2019-09-21 12:16:41">2019/09/21</span>
        </a>
        
        <a  class="JavaEE "
           href="/JavaEE/Servlet入门/"
           data-tag="Web,Java"
           data-author="" >
            <span class="post-title" title="Servlet入门">Servlet入门</span>
            <span class="post-date" title="2019-09-24 20:15:13">2019/09/24</span>
        </a>
        
        <a  class="JavaEE "
           href="/JavaEE/JSP简介/"
           data-tag="Web,JSP"
           data-author="" >
            <span class="post-title" title="JSP简介">JSP简介</span>
            <span class="post-date" title="2019-09-23 08:43:06">2019/09/23</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-Tomcat安装与配置" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Tomcat安装与配置</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a href="javascript:" data-rel="JavaEE">JavaEE</a>
            
        </span>
        
        
        <span class="tag">
            
            <a href="javascript:" class="color4">Web</a>
            
            <a href="javascript:" class="color2">Tomcat</a>
            
            <a href="javascript:" class="color5">Java</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2019-09-23 08:26:00'>2019-09-21 12:16</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Tomcat下载与安装"><span class="toc-text">1. Tomcat下载与安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Tomcat服务器下载"><span class="toc-text">1.1 Tomcat服务器下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-安装Tomcat"><span class="toc-text">1.2 安装Tomcat</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-配置Tomcat"><span class="toc-text">2. 配置Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Tomcat端口配置"><span class="toc-text">2.1 Tomcat端口配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2Tomcat后台控制"><span class="toc-text">2.2Tomcat后台控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3Web应用部署"><span class="toc-text">2.3Web应用部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-Tomcat自动部署"><span class="toc-text">2.3.1 Tomcat自动部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-控制台部署"><span class="toc-text">2.3.2 控制台部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-自定义Web文件部署"><span class="toc-text">2.3.3 自定义Web文件部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-修改server-xml文件部署"><span class="toc-text">2.3.4 修改server.xml文件部署</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Tomcat下载与安装"><a href="#1-Tomcat下载与安装" class="headerlink" title="1. Tomcat下载与安装"></a>1. Tomcat下载与安装</h1><p>Tomcat是Java领域注明的开源Web容器，具有简单、易用、稳定等特点，即可以为个人开发者使用，也可以作为商业产品发布。Tomcat不仅提供了Web容器的基本功能，而且还可以支持JAAS和JNDI绑定等。</p>
<h2 id="1-1-Tomcat服务器下载"><a href="#1-1-Tomcat服务器下载" class="headerlink" title="1.1 Tomcat服务器下载"></a>1.1 Tomcat服务器下载</h2><p>Tomcat采用纯Java实现，具有平台无关性，在Windows/类Unix系统上具有相同的运行状态。以Windows为例，介绍Tomcat的下载与配置</p>
<ol>
<li><p>登录Tomcat官网<a href="https://tomcat.apache.org" target="_blank" rel="noopener">https://tomcat.apache.org</a>，在页面左侧可以看到不同的Tomcat版本如图1-1所示，在正文显示了不同版本的的最新发型版本及其下载链接。为了能够使用最新的Servlet规范，建议采用了最新的Tomcat9.0.X版本系列，而且本文也采用Tomcat9.0.X作为讲解。</p>
<blockquote>
<p>Tomcat8.0及以上版本支持Servlet3.1规范，而且最新的版本能够更好的支持一些新的规范</p>
</blockquote>
</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/20190921193329713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图1-1"></p>
<p>Tomcat9.0.X的最新版本是9.0.26，建议下载该版本或读者当前看到的更新版本。Windows平台根据自身32/64位系统分别选择对应的32位或64位Windows压缩包，Linux选择tar.gz，如图1-2所示，显示了对应的下载选项。</p>
<blockquote>
<p>不建议下载安装文件，安装文件的Tomcat在启动之后看不到控制台的输出日志信息，不便于对系统进行运行状态的评估。</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20190921193509680.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图1-2"></p>
<ol start="2">
<li>解压下载的压缩包，解压缩之后的目录结构如下所示。<ul>
<li>bin:存放Tomcat的启动和关闭命令的路径</li>
<li>conf:存放Tomcat的配置信息</li>
<li>lib:存放Tomcat服务器的核心类库（jar包），针对Tomcat的第三方扩展包也需复制到该目录下</li>
<li>logs:存放Tomcat每次运行产生的日志信息</li>
<li>temp:存放Tomcat的Web应用运行过程中生成的临时文件</li>
<li>webapps:存放Tomcat中部署的Web应用。将，Tomcat能够自动部署存放在该路径下的Web应用或war文件</li>
<li>work:存放Web应用在运行过程中，编译生成的class文件。此文件夹及内容可以删除，Tomcat每次启动时，能够再次创建该路径</li>
<li>README等相关文档</li>
</ul>
</li>
</ol>
<h2 id="1-2-安装Tomcat"><a href="#1-2-安装Tomcat" class="headerlink" title="1.2 安装Tomcat"></a>1.2 安装Tomcat</h2><p>Tomcat运行在Java虚拟机之上，所以需要Java的运行环境即JRE环境。开发者可如前文所示配置JDK环境变量包括JAVA_HOME,CLASSPATH及path路径变量。</p>
<ol>
<li><p>启动Tomcat。在Windows平台中，开发者运行bin目录下的startup.bat文件即可启动Tomcat，在类Unix平台中，在bin目录下运行bash startup命令即可启动Tomcat。</p>
</li>
<li><p>查看Tomcat。启动Tomcat之后，打开浏览器，在地址栏输入<a href="http://127.0.0.1:8080" target="_blank" rel="noopener">http://127.0.0.1:8080</a>，然后回车，即可看到如图1-3所示的界面，表示Tomcat安装成功。</p>
</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/20190921193608111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图1-3"></p>
<ol start="3">
<li>Tomcat安装成功之后，配置选项都采用了默认的配置。事实上，我们应该对Tomcat的配置进行修改，否则会造成一系列的问题。例如如果当一台服务器有多个Tomcat，则因为先前的Tomcat启动占用端口的原因，后续Tomcat将无法启动。下面一章节将对此进行详细的介绍。</li>
</ol>
<h1 id="2-配置Tomcat"><a href="#2-配置Tomcat" class="headerlink" title="2. 配置Tomcat"></a>2. 配置Tomcat</h1><p>Tomcat作为一个免费Web服务器，提供了图形化的界面来部署和监控Web应用。但是对于一个开发者而言，要透过交互界面理解Tomcat配置的本质。因此，建议通过修改配置文件的方式来对Tomcat进行管理。</p>
<h2 id="2-1-Tomcat端口配置"><a href="#2-1-Tomcat端口配置" class="headerlink" title="2.1 Tomcat端口配置"></a>2.1 Tomcat端口配置</h2><p>Tomcat默认的服务端口是8080，可以通过配置文件修改该服务端口，甚至监听多个端口来提供服务。</p>
<p>如上一节的描述，Tomcat的配置文件都存放在conf目录下，存放端口配置的文件为此目录下的server.xml。采用记事本打开server.xml，查找<code>Connector</code>节点，找到如下所示代码</p>
<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;
           connectionTimeout=&quot;20000&quot;
           redirectPort=&quot;8443&quot; /&gt;</code></pre><p>其中，8080就表示Tomcat对外提供服务的端口，对此端口进行修改，便可改变对外提供服务的地址，为了避免与公用端口的冲突，建议修改为1024~65535之间的端口。此处采用了取巧的做法，将此处修改为80端口</p>
<blockquote>
<p>提供Http服务的Web服务器，默认的访问端口是80端口，</p>
</blockquote>
<p>修改成功之后，重启Tomcat，在浏览器地址里面输入<a href="http://127.0.0.1:80" target="_blank" rel="noopener">http://127.0.0.1:80</a>或者<a href="http://127.0.0.1" target="_blank" rel="noopener">http://127.0.0.1</a>便可以看到如图1-3所示的界面，表明Tomcat修改成功。</p>
<p>在默认情况下，Tomcat出于安全考虑，不会列出Web应用根路径下的所有页面。然而，在Web应用开发阶段，希望Tomcat能够列出Web应用根路径下的所有页面，方便于进行程序的调试。为了实现这样的功能，可以打开conf目录下的web.xml文件，找到其中的listings参数，该参数默认是false，将其改为true，即可让Tomcat列出Web应用根路径下的所有页面。</p>
<pre><code>&lt;init-param&gt;
       &lt;param-name&gt;listings&lt;/param-name&gt;
       &lt;param-value&gt;true&lt;/param-value&gt;
   &lt;/init-param&gt;</code></pre><h2 id="2-2Tomcat后台控制"><a href="#2-2Tomcat后台控制" class="headerlink" title="2.2Tomcat后台控制"></a>2.2Tomcat后台控制</h2><p>对于一个应用程序而言，通常需要至少提供两种基础的管理功能，分别为：</p>
<ol>
<li>应用状态监控功能</li>
<li>应用管理功能</li>
</ol>
<p>同样的，Tomcat作为一款Web服务器，自身也是一款应用，其提供了对其之上的Web应用的状态监控功能，Web应用部署功能和对其身自身的管理功能。三个功能依次叠加，对应了Tomcat的三种管理角色，分别为Server Staus, Manager App和Host Manager。</p>
<p>如图2-1所示，分别点击右上角的三个不同按钮，输入对应的管理员信息，可以进入对应的控制管理界面。</p>
<p><img src="https://img-blog.csdnimg.cn/2019092119370236.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图2-1"></p>
<p>Manager作为一个对Tomcat进行管理的角色，其自身就是一个Web应用。根据第一节的介绍，Web应用存放在Tomcat的webapps目录下。进入webapps/manager/WEB-INF目录下，打开web.xml文件，可以找到如下的内容。</p>
<pre><code>&lt;security-constraint&gt;
&lt;web-resource-collection&gt;
  &lt;web-resource-name&gt;HTML Manager interface (for humans)&lt;/web-resource-name&gt;
  &lt;url-pattern&gt;/html/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint&gt;
  &lt;role-name&gt;manager-gui&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
&lt;security-constraint&gt;
&lt;web-resource-collection&gt;
  &lt;web-resource-name&gt;Text Manager interface (for scripts)&lt;/web-resource-name&gt;
  &lt;url-pattern&gt;/text/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint&gt;
   &lt;role-name&gt;manager-script&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
&lt;security-constraint&gt;
&lt;web-resource-collection&gt;
  &lt;web-resource-name&gt;JMX Proxy interface&lt;/web-resource-name&gt;
  &lt;url-pattern&gt;/jmxproxy/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint&gt;
   &lt;role-name&gt;manager-jmx&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
&lt;security-constraint&gt;
&lt;web-resource-collection&gt;
  &lt;web-resource-name&gt;Status interface&lt;/web-resource-name&gt;
  &lt;url-pattern&gt;/status/*&lt;/url-pattern&gt;
&lt;/web-resource-collection&gt;
&lt;auth-constraint&gt;
   &lt;role-name&gt;manager-gui&lt;/role-name&gt;
   &lt;role-name&gt;manager-script&lt;/role-name&gt;
   &lt;role-name&gt;manager-jmx&lt;/role-name&gt;
   &lt;role-name&gt;manager-status&lt;/role-name&gt;
&lt;/auth-constraint&gt;
&lt;/security-constraint&gt;</code></pre><p>通过此段的XML描述信息，可以看到，可以通过不同的manager角色来达到对Tomcat应用的不同控制程度。对于普通开发者而言，需要能够访问匹配的/html/<em>、/status/</em>的资源，因此分配一个manager-gui角色即可。</p>
<p>同样的，对Tomcat用户的配置，则需要修改conf配置目录下的tomcat-users.xml文件。默认的，如下所示，该文件内只存储了基本的配制结构及注解说明。</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;tomcat-users xmlns=&quot;<a href="http://tomcat.apache.org/xml" class="test test-url" target="_blank" rel="noopener noreferrer">http://tomcat.apache.org/xml</a>&quot;
          xmlns:xsi=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance" class="test test-url" target="_blank" rel="noopener noreferrer">http://www.w3.org/2001/XMLSchema-instance</a>&quot;
          xsi:schemaLocation=&quot;<a href="http://tomcat.apache.org/xml" class="test test-url" target="_blank" rel="noopener noreferrer">http://tomcat.apache.org/xml</a> tomcat-users.xsd&quot;
          version=&quot;1.0&quot;&gt;
&lt;!--
  NOTE:  By default, no user is included in the &quot;manager-gui&quot; role required
  to operate the &quot;/manager/html&quot; web application.  If you wish to use this app,
  you must define such a user - the username and password are arbitrary. It is
  strongly recommended that you do NOT use one of the users in the commented out
  section below since they are intended for use with the examples web
  application.
    --&gt;
&lt;!--
  NOTE:  The sample user and role entries below are intended for use with the
  examples web application. They are wrapped in a comment and thus are ignored
  when reading this file. If you wish to configure these users for use with the
  examples web application, do not forget to remove the &lt;!.. ..&gt; that surrounds
  them. You will also need to set the passwords to something appropriate.
    --&gt;
&lt;!--
  &lt;role rolename=&quot;tomcat&quot;/&gt;
  &lt;role rolename=&quot;role1&quot;/&gt;
  &lt;user username=&quot;tomcat&quot; password=&quot;&lt;must-be-changed&gt;&quot; roles=&quot;tomcat&quot;/&gt;
  &lt;user username=&quot;both&quot; password=&quot;&lt;must-be-changed&gt;&quot; roles=&quot;tomcat,role1&quot;/&gt;
  &lt;user username=&quot;role1&quot; password=&quot;&lt;must-be-changed&gt;&quot; roles=&quot;role1&quot;/&gt;
    --&gt;
&lt;/tomcat-users&gt;</code></pre><p>如注释所揭示的，为了能够登陆Manager控制台，需要在tomcat-users节点下添加属于manager-gui的角色即可。因此，此处新增用户和密码及结构如下：</p>
<pre><code>&lt;tomcat-users&gt;  
    &lt;role rolename=&quot;manager-gui&quot;/&gt;
        &lt;user username=&quot;abbottkilig&quot; password=&quot;abbottkilig&quot; roles=&quot;manager-gui&quot;/&gt;
&lt;/tomcat-users&gt;</code></pre><p>配置中新增了一个用户，用户名和密码都是abbottkilig，角色属于manager-gui。此时，可以在图2-1显示的对话框中分别属于用户名和密码进入manager控制台，登陆成功后的界面如图2-2所示。</p>
<p><img src="https://img-blog.csdnimg.cn/20190921193733545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图2-2"></p>
<p>如图2-2所示，页面分别上中下三个部分。</p>
<ul>
<li><p>上部分页面可以监控到所有部署在该Web服务器下的Web应用，从左到右依次显示了Web应用的名称，版本，名字，运行状态等，而且在右边显示了可以对Web应用进行控制的命令，包括启动、停止、重新加载、卸载四个命令。</p>
</li>
<li><p>中间部分显示了对Web服务的部署信息。Tomcat提供了两种部署Web应用的方式，一种是将整个路径部署成为Web应用；另一种是将war包部署成web应用。</p>
</li>
</ul>
<h2 id="2-3Web应用部署"><a href="#2-3Web应用部署" class="headerlink" title="2.3Web应用部署"></a>2.3Web应用部署</h2><p>在Tomcat中，部署Web应用除了上一节中所描述的在Manager部署应用的两种方式外，Tomcat还支持增加自定义的Web部署文件和修改server.xml文件来部署应用，接下来将分别对这几种方式进行讲解。</p>
<h3 id="2-3-1-Tomcat自动部署"><a href="#2-3-1-Tomcat自动部署" class="headerlink" title="2.3.1 Tomcat自动部署"></a>2.3.1 Tomcat自动部署</h3><p>Tomcat的自动部署方式是一种最简单、最常用的方式，只需要将一个Web应用或者应用打包成的War包复制到Tomcat的webapps下，系统就会自动把该应用部署到Tomcat</p>
<p>以war包的部署为例，如图2-3所示，在Tomcat正常运行状态或重新启动Tomcat的情况下，系统会自动解压war包生成对应的工程。例如，此处我们添加了demo.war，自动生成了demo文件夹，通过浏览器访问<a href="http://127.0.0.1/demo" target="_blank" rel="noopener">http://127.0.0.1/demo</a>便可看到demo项目的正常运行</p>
<p><img src="https://img-blog.csdnimg.cn/20190921193807712.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图2-3"></p>
<h3 id="2-3-2-控制台部署"><a href="#2-3-2-控制台部署" class="headerlink" title="2.3.2 控制台部署"></a>2.3.2 控制台部署</h3><p>采用控制台部署Web应用，只需要在如图2-4中的deploy管理界面的输入对应的访问路径和Web应用程序路径即可。</p>
<p><img src="https://img-blog.csdnimg.cn/20190921193824573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAxNjY0MDQ=,size_16,color_FFFFFF,t_70" alt="图2-4"></p>
<p>如图所示的方式输入后，单机“deploy”按钮，将会在Tomcat的webapps路径下看到一个demo的文件夹，且该文件夹的内容和D:/project/demo文件夹中的内容完全相同。这说明利用控制台部署Web应用，其本质依旧是利用Tomcat的自动部署方式。</p>
<h3 id="2-3-3-自定义Web文件部署"><a href="#2-3-3-自定义Web文件部署" class="headerlink" title="2.3.3 自定义Web文件部署"></a>2.3.3 自定义Web文件部署</h3><p>此部署方式相对前两种而言，略显复杂。需要在conf配置目录下的Catalina<br>目录下的localhost文件下，新建部署Web应用的配置文件，该文件的文件名将作为Web应用的虚拟路径。例如在conf/Catalina/localhost文件下新增一个demo.xml文件，该文件的内容如下：</p>
<pre><code>&lt;Context docBase=&quot;D:/project/demo&quot; debug=&quot;0&quot; privileged=&quot;true&quot;&gt;
&lt;/Context&gt;</code></pre><p>重启Tomcat之后，Tomcat会将D:/project/demo路径下的demo文件夹部署称为Web应用。可以通过浏览器<a href="http://127.0.0.1/demo" target="_blank" rel="noopener">http://127.0.0.1/demo</a>访问进行访问。</p>
<h3 id="2-3-4-修改server-xml文件部署"><a href="#2-3-4-修改server-xml文件部署" class="headerlink" title="2.3.4 修改server.xml文件部署"></a>2.3.4 修改server.xml文件部署</h3><p>在server.xml文件中找到<code>Host</code>节点，默认的配置结构如下：</p>
<pre><code>&lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;

    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;
           prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;
           pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;

  &lt;/Host&gt;</code></pre><p>为了能够成功部署Web应用，在其中添加Web映射</p>
<pre><code>&lt;Context docBase=&quot;D:/project/demo&quot; path=&quot;/demo&quot; reloadable=&quot;true&quot;/&gt;</code></pre><p>此时，通过<a href="http://127.0.0.1/demo" target="_blank" rel="noopener">http://127.0.0.1/demo</a>也可是实现对Web应用进行访问</p>
<blockquote>
<p>server.xml是Tomcat的核心配置文件，修改此文件可能会破坏Tomcat的系统运行，不建议采用此方式进行部署。</p>
</blockquote>
<p>此时，通过<a href="http://127.0.0.1/demo" target="_blank" rel="noopener">http://127.0.0.1/demo</a>也可是实现对Web应用进行访问</p>
<blockquote>
<p>server.xml是Tomcat的核心配置文件，修改此文件可能会破坏Tomcat的系统运行，不建议采用此方式进行部署。</p>
</blockquote>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 <a href="mailto:AbbottKilig@163.com" class="test test-email" target="_blank" rel="noopener noreferrer">AbbottKilig@163.com</a> </span>
    </div>
</article>


<p>
    <a href="javascript:void(0)" class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>Tomcat安装与配置</p>
    
    <p><span class="copy-title">本文作者:</span><a href="javascript:void(0)" title="AbbottKilig">AbbottKilig</a></p>
    <p><span class="copy-title">发布时间:</span>2019-09-21, 12:16:41</p>
    <p><span class="copy-title">最后更新:</span>2019-09-23, 08:26:00</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/JavaEE/Tomcat安装与配置/" title="Tomcat安装与配置">http://AbbottKilig.github.io/JavaEE/Tomcat安装与配置/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>





    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2016-2019 abbottkilig</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" href="javascript:void(0)"></a>
    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['<a href="https://instagram.com/explore/tags/Web" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#Web</a>','<a href="https://instagram.com/explore/tags/java" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#java</a>','<a href="https://instagram.com/explore/tags/Filter" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#Filter</a>','<a href="https://instagram.com/explore/tags/Tomcat" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#Tomcat</a>','<a href="https://instagram.com/explore/tags/Java" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#Java</a>','<a href="https://instagram.com/explore/tags/JSP" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#JSP</a>',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("<a href="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" class="test test-url" target="_blank" rel="noopener noreferrer">busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js</a>");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid <a href="https://instagram.com/explore/tags/e2dede" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#e2dede</a>;
        background: <a href="https://instagram.com/explore/tags/FFF" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#FFF</a>;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid <a href="https://instagram.com/explore/tags/C3CCD0" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#C3CCD0</a>;
        text-align: right;
        color: <a href="https://instagram.com/explore/tags/AAA" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#AAA</a>;
        background-color: <a href="https://instagram.com/explore/tags/fafafa" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#fafafa</a>;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list <a href="https://instagram.com/explore/tags/local" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#local</a>-search-result a .post-title {
        color: <a href="https://instagram.com/explore/tags/383636" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#383636</a>;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list <a href="https://instagram.com/explore/tags/local" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#local</a>-search-result a .post-date {
        color: <a href="https://instagram.com/explore/tags/5e5e5f" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#5e5e5f</a>;
    }
    
    
    .nav-right nav a.hover, <a href="https://instagram.com/explore/tags/local" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#local</a>-search-result a.hover{
        background-color: <a href="https://instagram.com/explore/tags/e2e0e0" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#e2e0e0</a>;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: <a href="https://instagram.com/explore/tags/e2dede" class="test test-hashtag" target="_blank" rel="noopener noreferrer">#e2dede</a> solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("<a href="https://i.loli.net/2019/07/22/5d3521411f3f169375.png" class="test test-url" target="_blank" rel="noopener noreferrer">https://i.loli.net/2019/07/22/5d3521411f3f169375.png</a>");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
